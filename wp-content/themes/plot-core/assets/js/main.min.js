!function(){return function e(t,r,a){function n(s,i){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var g=r[s]={exports:{}};t[s][0].call(g.exports,function(e){return n(t[s][1][e]||e)},g,g.exports,e,t,r,a)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}}()({1:[function(e,t,r){var a;a={images:document.querySelectorAll(".JS--lazyLoad"),config:{rootMargin:"0px",threshold:.1},observer:null,init:function(){a.observer=new IntersectionObserver(a.handleImageLoad,a.config),a.loadImages(),a.adjustHeightsForResponsiveImages(""),window.addEventListener("resize",()=>{a.adjustHeightsForResponsiveImages("")})},loadImages:function(){a.images.forEach(e=>{a.observer.observe(e)})},adjustHeightsForResponsiveImages:function(e){const t=document.querySelectorAll("img"+e+".JS--lazyLoad[data-ratio]");for(var r of t)r.style.height=r.parentElement.clientWidth/r.dataset.ratio+"px"},handleImageLoad:function(e){e.forEach(e=>{if(!e.isIntersecting)return;var t=e.isIntersecting&&e.target.tagName;let r=e.target.dataset.src;a.isSmallScreen()&&""==!e.target.dataset.smallSrc&&(r=e.target.dataset.smallSrc),"VIDEO"==t?(a.isSmallScreen()&&""==!e.target.dataset.smallSrc?e.target.src=e.target.dataset.smallSrc:e.target.src=e.target.dataset.src,e.target.classList.add("imageLoaded"),a.observer.unobserve(e.target)):a.getImage(r).then(r=>{"IMG"==t?e.target.src=r:e.target.style.backgroundImage="url("+r+")",e.target.classList.add("imageLoaded"),a.observer.unobserve(e.target)}).catch(e=>{console.log(e,"image not found")})})},getImage:e=>new Promise(function(t,r){var a=new Image;a.onload=function(){t(e)},a.onerror=function(){r(e)},a.src=e}),isSmallScreen:()=>window.innerWidth<640},t.exports=a},{}],2:[function(e,t,r){!function(){"use strict";var t,r=e("./lazyload.js");t={init:function(){r.init()}},window.Main=t}()},{"./lazyload.js":1}]},{},[2]);
